{"ast":null,"code":"import _defineProperty from\"D:/WeB/Project/React/servicetest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/WeB/Project/React/servicetest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/WeB/Project/React/servicetest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/WeB/Project/React/servicetest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/WeB/Project/React/servicetest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import\"./Quiz.css\";import ActivQuiz from\"../../components/ActiveQuiz/ActivQuiz\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Quiz=/*#__PURE__*/function(_Component){_inherits(Quiz,_Component);var _super=_createSuper(Quiz);function Quiz(){var _this;_classCallCheck(this,Quiz);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activQuestion:0,answerState:null,quiz:[{question:'Какого я года рождения?',rightAnswerId:1,id:1,answers:[{text:'1998',id:1},{text:'2001',id:2},{text:'1997',id:3},{text:'2000',id:4}]},{question:'Какого года рождения Юля?',rightAnswerId:3,id:2,answers:[{text:'1998',id:1},{text:'2001',id:2},{text:'1999',id:3},{text:'2000',id:4}]}]};_this.onAnswerClickHandler=function(answerId){console.log('Answer Id:',answerId);var question=_this.state.quiz[_this.state.activQuestion];if(question.rightAnswerId===answerId){_this.setState({answerState:_defineProperty({},answerId,'success')});var timeout=window.setTimeout(function(){if(_this.isQuizFinished()){console.log('finished');}else{_this.setState({activQuestion:_this.state.activQuestion+1,answerState:null});}window.clearTimeout(timeout);},1000);}else{_this.setState({answerState:_defineProperty({},answerId,'error')});var _timeout=window.setTimeout(function(){if(_this.isQuizFinished()){console.log('finished');}else{_this.setState({activQuestion:_this.state.activQuestion+1,answerState:null});}window.clearTimeout(_timeout);},1000);}};return _this;}_createClass(Quiz,[{key:\"isQuizFinished\",value:function isQuizFinished(){return this.state.activQuestion+1===this.state.quiz.length;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"Quiz\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"QuizWrapper\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041E\\u0442\\u0432\\u0435\\u0442\\u044C\\u0442\\u0435 \\u043D\\u0430 \\u0432\\u0441\\u0435 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B:\"}),/*#__PURE__*/_jsx(ActivQuiz,{answers:this.state.quiz[this.state.activQuestion].answers,question:this.state.quiz[this.state.activQuestion].question,onAnswerClick:this.onAnswerClickHandler,quizLenght:this.state.quiz.length,answerNumber:this.state.activQuestion+1,state:this.state.answerState})]})});}}]);return Quiz;}(Component);export default Quiz;","map":{"version":3,"sources":["D:/WeB/Project/React/servicetest/src/containers/Quiz/Quiz.js"],"names":["React","Component","ActivQuiz","Quiz","state","activQuestion","answerState","quiz","question","rightAnswerId","id","answers","text","onAnswerClickHandler","answerId","console","log","setState","timeout","window","setTimeout","isQuizFinished","clearTimeout","length"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport \"./Quiz.css\"\r\nimport ActivQuiz from \"../../components/ActiveQuiz/ActivQuiz\";\r\n\r\n\r\nclass Quiz extends Component {\r\n    state = {\r\n        activQuestion: 0,\r\n        answerState: null,\r\n        quiz: [\r\n            {\r\n              question: 'Какого я года рождения?',\r\n              rightAnswerId: 1,\r\n              id: 1,\r\n              answers: [\r\n                  {text: '1998', id: 1},\r\n                  {text: '2001', id: 2},\r\n                  {text: '1997', id: 3},\r\n                  {text: '2000', id: 4}\r\n              ]\r\n            },\r\n            {\r\n                question: 'Какого года рождения Юля?',\r\n                rightAnswerId: 3,\r\n                id: 2,\r\n                answers: [\r\n                    {text: '1998', id: 1},\r\n                    {text: '2001', id: 2},\r\n                    {text: '1999', id: 3},\r\n                    {text: '2000', id: 4}\r\n                ]\r\n            }\r\n\r\n        ]\r\n    }\r\n\r\n    onAnswerClickHandler = (answerId) => {\r\n        console.log('Answer Id:', answerId)\r\n\r\n        const question = this.state.quiz[this.state.activQuestion]\r\n\r\n        if (question.rightAnswerId === answerId) {\r\n\r\n            this.setState({\r\n                answerState: {[answerId]: 'success'}\r\n            })\r\n\r\n           const timeout = window.setTimeout(() => {\r\n             if (this.isQuizFinished()) {\r\n                console.log('finished')\r\n             } else {\r\n                 this.setState({\r\n                     activQuestion: this.state.activQuestion + 1,\r\n                     answerState: null\r\n                 })\r\n             }\r\n             window.clearTimeout(timeout)\r\n           }, 1000)\r\n\r\n        }else{\r\n\r\n            this.setState({\r\n                answerState: {[answerId]: 'error'}\r\n            })\r\n\r\n            const timeout = window.setTimeout(() => {\r\n            if (this.isQuizFinished()) {\r\n                console.log('finished')\r\n            } else {\r\n                this.setState({\r\n                    activQuestion: this.state.activQuestion + 1,\r\n                    answerState: null\r\n                })\r\n            }\r\n            window.clearTimeout(timeout)\r\n        }, 1000)\r\n        }\r\n    }\r\n\r\n    isQuizFinished() {\r\n        return this.state.activQuestion + 1 === this.state.quiz.length\r\n    }\r\n\r\n    render() {\r\n       return(\r\n           <div className=\"Quiz\">\r\n\r\n               <div className=\"QuizWrapper\">\r\n                  <h2>Ответьте на все вопросы:</h2>\r\n                  <ActivQuiz\r\n                    answers={this.state.quiz[this.state.activQuestion].answers}\r\n                    question={this.state.quiz[this.state.activQuestion].question}\r\n                    onAnswerClick={this.onAnswerClickHandler}\r\n                    quizLenght={this.state.quiz.length}\r\n                    answerNumber={this.state.activQuestion +1}\r\n                    state = {this.state.answerState}\r\n                  />\r\n               </div>\r\n           </div>\r\n       )\r\n           }\r\n}\r\n\r\nexport default Quiz"]},"metadata":{},"sourceType":"module"}